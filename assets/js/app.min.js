var app=angular.module("layotter",["ngAnimate","ngSanitize","ui.sortable"]);jQuery(document).ready(function(){angular.bootstrap(document,["layotter"])}),app.run(function(){jQuery("#layotter").show(),jQuery("#layotter-loading").hide();var t=function(){var t=jQuery("#layotter-templates .layotter-elements"),e=jQuery("#layotter-templates").height()-t.position().top-10;t.height(e)};t(),jQuery(window).on("resize",function(){t()})}),app.animation(".layotter-animate",function(){return{enter:function(t,e){jQuery(t).hide().css("visibility","hidden").slideDown(400,function(){jQuery(this).css("visibility","visible").hide().fadeIn(400,e)})},leave:function(t,e){jQuery(t).fadeTo(400,0).slideUp(400,e)}}}),app.directive("toggleTemplates",["view",function(i){return{restrict:"A",link:function(t,e,n){e.on("click",function(){i.toggleTemplates()})}}}]),app.filter("rawHtml",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]);
app.controller("EditorCtrl",["$scope","$animate","data","content","templates","layouts","history",function(t,e,a,o,l,n,r){angular.extend(t,o,l,n,r),t.data=a.contentStructure,t.$watch(function(){return r.data},function(e){t.history=e}),t.allowedRowLayouts=layotterData.allowedRowLayouts,t.optionsEnabled={post:layotterData.isOptionsEnabled.post,row:layotterData.isOptionsEnabled.row,col:layotterData.isOptionsEnabled.col,element:layotterData.isOptionsEnabled.element},t.enablePostLayouts=layotterData.enablePostLayouts,t.enableElementTemplates=layotterData.enableElementTemplates,t.savedLayouts=n.savedLayouts,t.savedemplates=l.savedTemplates,t.$watch("data",function(e){var t=angular.copy(e);angular.forEach(t.rows,function(e){angular.forEach(e.cols,function(e){angular.forEach(e.elements,function(e){delete e.view,delete e.is_template,delete e.isLoading,delete e.isHighlighted})})});var a=angular.toJson(t,!1);jQuery("#content").val("[layotter]"+a+"[/layotter]"),jQuery("#layotter-json").val(a)},!0),t.rowSortableOptions={items:".layotter-row",placeholder:"layotter-placeholder",forcePlaceholderSize:!0,revert:300,handle:".layotter-row-move",stop:function(){r.pushStep(layotterData.i18n.history.move_row)}},t.elementSortableOptions={items:".layotter-element",cancel:".layotter-element-buttons",placeholder:"layotter-placeholder",forcePlaceholderSize:!0,revert:300,connectWith:"#layotter .layotter-elements",start:function(){e.enabled(!1)},stop:function(){e.enabled(!0),r.pushStep(layotterData.i18n.history.move_element)}}}]);
app.controller("ModalCtrl",["$scope","content","layouts","forms",function(e,t,a,o){angular.extend(e,t,a),e.elementTypes=layotterData.elementTypes,e.form=o.data}]);
app.controller("TemplatesCtrl",["$scope","$animate","templates","$timeout","history",function(a,r,o,l,n){var p;angular.extend(a,o),a.templateSortableOptions={items:".layotter-element",cancel:".layotter-element-buttons",placeholder:"layotter-placeholder",forcePlaceholderSize:!0,revert:300,connectWith:"#layotter .layotter-elements",helper:"clone",start:function(e,t){r.enabled(!1),o.unhighlightTemplate(t.item.sortable.model),p=angular.copy(a.savedTemplates),jQuery(t.item).show(),jQuery(t.item.parent()).sortable("option","revert",!1)},stop:function(e,t){t.item.sortable.droptarget&&e.target!==t.item.sortable.droptarget[0]&&angular.extend(o.savedTemplates,p),n.pushStep(layotterData.i18n.history.create_element_from_template),l(function(){r.enabled(!0)},1)},update:function(e,t){t.item.sortable.droptarget&&e.target===t.item.sortable.droptarget[0]&&t.item.sortable.cancel()},change:function(e,t){t.placeholder.parent()[0]!==t.item.parent()[0]&&jQuery(t.item.parent()).sortable("option","revert",300)}}}]);
app.service("content",["$rootScope","$http","$animate","$timeout","data","forms","modals","state","templates","history",function(t,o,l,i,r,n,a,s,e,c){var d=this;this.showBackButton=s.showBackButton,this.toggleFullscreen=n.toggleFullscreen,t.$watch(function(){return s.showBackButton},function(t){d.showBackButton=t}),this.showNewElementTypes=function(t,e){s.setElement(angular.copy(r.templates.element)),s.setParent(t),s.setIndex(e),n.showHTML(angular.element("#layotter-add-element").html())},this.backToShowNewElementTypes=function(){n.fieldsChanged?a.confirm({message:layotterData.i18n.discard_changes_go_back_confirmation,okText:layotterData.i18n.discard_changes,okAction:function(){n.showHTML(angular.element("#layotter-add-element").html()),n.fieldsChanged=!1,n.listenForFieldChanges=!1},cancelText:layotterData.i18n.cancel}):(n.showHTML(angular.element("#layotter-add-element").html()),n.fieldsChanged=!1,n.listenForFieldChanges=!1)},this.selectNewElementType=function(t){s.setElement(angular.extend({},r.templates.element,{type:t})),s.setBackButton(!0),d.editElement(s.getElement())},this.saveForm=function(){var t=s.getElement();s.getOptionsType()?d.saveOptions():t.is_template?e.saveTemplate():d.saveElement()},this.editElement=function(t){s.setElement(t),n.fetchDataAndShowForm(ajaxurl+"?action=layotter",{layotter_action:"edit_element",layotter_id:t.id,layotter_type:t.type})},this.saveElement=function(){var e=!1;null!==s.getParent()&&(e=!0,s.getParent().splice(s.getIndex()+1,0,s.getElement()));var n=s.getElement();s.reset(),n.isLoading=!0;var t=jQuery("#layotter-edit, .layotter-modal #post").serialize()+"&layotter_action=save_element&layotter_id="+encodeURIComponent(n.id)+"&layotter_type="+encodeURIComponent(n.type);o({url:ajaxurl+"?action=layotter",method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){n.id=t.id,n.view=t.view,n.is_template=t.is_template,n.isLoading=void 0,n.type=void 0,e?c.pushStep(layotterData.i18n.history.add_element):c.pushStep(layotterData.i18n.history.edit_element),acf.validation.unlockForm()})},this.editOptions=function(t,e){s.setOptionsType(t),s.setElement(e),n.fetchDataAndShowForm(ajaxurl+"?action=layotter",{layotter_action:"edit_options",layotter_type:t,layotter_options_id:e.options_id,layotter_post_id:layotterData.postID})},this.saveOptions=function(){var e=s.getElement(),n=s.getOptionsType();s.reset(),e.isLoading=!0;var t=jQuery("#layotter-edit, .layotter-modal #post").serialize()+"&layotter_action=save_options&layotter_type="+encodeURIComponent(n)+"&layotter_post_id="+encodeURIComponent(layotterData.postID);o({url:ajaxurl+"?action=layotter",method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){e.options_id=parseInt(t),e.isLoading=void 0,c.pushStep(layotterData.i18n.history["edit_"+n+"_options"]),acf.validation.unlockForm()})},this.deleteElement=function(t,e){a.confirm({message:layotterData.i18n.delete_element_confirmation,okText:layotterData.i18n.delete_element,okAction:function(){t.splice(e,1),c.pushStep(layotterData.i18n.history.delete_element)},cancelText:layotterData.i18n.cancel})},this.deleteRow=function(t){var e=!1;if(angular.forEach(r.contentStructure.rows[t].cols,function(t){t.elements.length&&(e=!0)}),!e)return r.contentStructure.rows.splice(t,1),void c.pushStep(layotterData.i18n.history.delete_row);a.confirm({message:layotterData.i18n.delete_row_confirmation,okText:layotterData.i18n.delete_row,okAction:function(){r.contentStructure.rows.splice(t,1),c.pushStep(layotterData.i18n.history.delete_row)},cancelText:layotterData.i18n.cancel})},this.addRow=function(t){r.contentStructure.rows.splice(t+1,0,angular.copy(r.templates.row)),c.pushStep(layotterData.i18n.history.add_row)},this.duplicateRow=function(t){r.contentStructure.rows.splice(t,0,angular.copy(r.contentStructure.rows[t])),c.pushStep(layotterData.i18n.history.duplicate_row)},this.duplicateElement=function(t,e){t.splice(e,0,angular.copy(t[e])),c.pushStep(layotterData.i18n.history.duplicate_element)},this.getColLayout=function(t,e){return t.layout.split(" ")[e]},this.setRowLayout=function(e,t){var n=e.layout.split(" ").length,o=t.split(" ").length;if(e.layout=t,n<o)for(var a=n;a<o;a++)e.cols.push(angular.copy(r.templates.col));else{l.enabled(!1);for(a=o;a<n;a++)angular.forEach(e.cols[a].elements,function(t){e.cols[o-1].elements.push(t)});e.cols.splice(o),i(function(){l.enabled(!0)},1)}c.pushStep(layotterData.i18n.history.change_row_layout)},this.cancelEditing=function(){n.fieldsChanged?a.confirm({message:layotterData.i18n.discard_changes_confirmation,okText:layotterData.i18n.discard_changes,okAction:function(){s.reset()},cancelText:layotterData.i18n.cancel}):s.reset()},angular.element(document).on("click","#dennisbox .dennisbox-overlay",function(){d.cancelEditing()}),angular.element(document).on("click","#dennisbox-modal .dennisbox-overlay",function(){void 0!==t.confirm&&t.confirm.cancelAction(),void 0!==t.prompt&&t.prompt.cancelAction()}),angular.element(document).on("keyup",function(t){27!=t.keyCode||!angular.element("#dennisbox").length||angular.element(".layotter-modal-confirm").length||angular.element(".layotter-modal-prompt").length||(angular.element("#layotter-edit :focus, .layotter-modal #post :focus").blur(),d.cancelEditing())})}]);
app.service("data",function(){null===layotterData.contentStructure?this.contentStructure={options_id:0,rows:[]}:this.contentStructure=angular.copy(layotterData.contentStructure),this.templates={};var t=layotterData.defaultRowLayout;this.templates.element={id:0,view:"",options_id:0},this.templates.col={elements:[],options_id:0};for(var e=t.split(" ").length,o=[],a=0;a<e;a++)o.push(angular.copy(this.templates.col));this.templates.row={layout:t,cols:o,options_id:0}});
app.service("forms",["$http","$compile","$rootScope","$timeout",function(n,r,d,s){var c=this;this.fieldsChanged=!1,this.listenForFieldChanges=!1,this.data={},angular.element(document).on("change",".layotter-modal input, .layotter-modal textarea, .layotter-modal select",function(){c.listenForFieldChanges&&(c.fieldsChanged=!0)}),angular.element(document).on("submit","#layotter-edit",function(e){e.preventDefault(),jQuery(":focus").blur(),jQuery(".layotter-modal-loading-container").addClass("layotter-loading"),jQuery(".layotter-modal-foot button").prop("disabled",!0)}),acf.addFilter("validation_complete",function(e,t){return"layotter-edit"===t.prop("id")&&(angular.element(".layotter-modal-loading-container").removeClass("layotter-loading"),angular.element(".layotter-modal-foot button").prop("disabled",!1)),e}),acf.addAction("validation_success",function(e){"layotter-edit"===e[0].id&&angular.element("#layotter-edit-submit").trigger("click")}),this.showHTML=function(e){a(e)},this.fetchDataAndShowForm=function(e,t){a(),n({url:e,method:"POST",data:jQuery.param(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){c.data=e,a(jQuery("#layotter-form").html())})};var a=function(e){var t=!0;angular.element("#dennisbox").length&&(angular.element("#dennisbox").remove(),t=!1);var n=angular.element('<div id="dennisbox"><div class="dennisbox-overlay"></div><div class="dennisbox-content"></div></div>'),a=parseInt(angular.element(document).scrollTop()+angular.element(window).height()/2),o=parseInt(.8*angular.element(window).height()),l=t?-o/2+10:-o/2;n.appendTo("body");var i=n.children(".dennisbox-content");i.css("height",o).css("width",700).css("margin-top",l).css("top",a),t&&i.css("opacity",0).animate({marginTop:-o/2,opacity:1},300),void 0!==e?("string"==typeof e&&i.html(e),c.listenForFieldChanges=!0,s(function(){d.$apply(r(angular.element("#dennisbox"))(d)),acf.get_fields({},jQuery("#layotter-form")).each(function(){acf.do_action("ready_field",jQuery(this)),acf.do_action("ready_field/type="+acf.get_field_type(jQuery(this)),jQuery(this))}),acf.do_action("append",jQuery("#layotter-edit"))},1)):i.addClass("dennisbox-loading")};this.toggleFullscreen=function(){var e,t,n,a=jQuery("#dennisbox .dennisbox-content");700!==a.outerWidth()?(e=parseInt(angular.element(document).scrollTop()+angular.element(window).height()/2),n=-(t=parseInt(.8*angular.element(window).height()))/2,a.animate({height:t,width:700,marginTop:n,top:e},function(){jQuery(".layotter-modal-head-fullscreen-expand").show(),jQuery(".layotter-modal-head-fullscreen-compress").hide()})):(e=jQuery(document).scrollTop(),a.animate({height:"100%",width:"100%",marginTop:0,top:e},function(){jQuery(".layotter-modal-head-fullscreen-expand").hide(),jQuery(".layotter-modal-head-fullscreen-compress").show()}))},this.close=function(){var e=angular.element("#dennisbox");e.length&&e.children().fadeOut(300,function(){angular.element(this).parent().remove()})}}]);
app.service("history",["$animate","$timeout","data",function(e,n,a){var o=this,i=[],r=-1;this.data={},this.data.canUndo=!1,this.data.undoTitle="",this.data.canRedo=!1,this.data.redoTitle="",this.deletedTemplates=[];var d=function(){o.data.canUndo=u(),o.data.canRedo=l(),o.data.canUndo?o.data.undoTitle=layotterData.i18n.history.undo+" "+i[r].title:o.data.undoTitle="",o.data.canRedo?o.data.redoTitle=layotterData.i18n.history.redo+" "+i[r+1].title:o.data.redoTitle=""},c=function(t){var e=angular.copy(t);return angular.forEach(e.rows,function(t){angular.forEach(t.cols,function(t){angular.forEach(t.elements,function(t){t.is_template&&!t.template_deleted&&-1!==o.deletedTemplates.indexOf(t.id)&&(t.is_template=!1,t.template_deleted=!0)})})}),e},u=function(){return 0<r},l=function(){return r<i.length-1};this.pushStep=function(t){l()&&i.splice(r+1,i.length),i.push({title:t,content:angular.copy(a.contentStructure)}),r++,d()},this.pushStep("Loaded page"),this.undoStep=function(){if(u()){e.enabled(!1),r--;var t=angular.copy(i[r].content);t=c(t),a.contentStructure.options=t.options,a.contentStructure.rows=t.rows,d(),n(function(){e.enabled(!0)},1)}},this.redoStep=function(){if(l()){e.enabled(!1),r++;var t=angular.copy(i[r].content);t=c(t),a.contentStructure.options=t.options,a.contentStructure.rows=t.rows,d(),n(function(){e.enabled(!0)},1)}}}]);
app.service("layouts",["$rootScope","$http","$animate","$timeout","data","forms","modals","state","history",function(t,o,e,n,l,r,i,a,u){var s=this;this.savedLayouts=layotterData.savedLayouts,this.saveNewLayout=function(){var e=angular.toJson(l.contentStructure);i.prompt({message:layotterData.i18n.save_new_layout_confirmation,initialValue:angular.element("#title").val(),okText:layotterData.i18n.save_layout,okAction:function(t){var a="layotter_action=create_layout&layotter_name="+encodeURIComponent(t)+"&layotter_json="+encodeURIComponent(e);angular.element(".layotter-save-layout-button-wrapper").addClass("layotter-loading"),o({url:ajaxurl+"?action=layotter",method:"POST",data:a,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){s.savedLayouts.push(t),angular.element(".layotter-save-layout-button-wrapper").removeClass("layotter-loading")})},cancelText:layotterData.i18n.cancel})},this.loadLayout=function(){r.showHTML(angular.element("#layotter-load-layout").html())},this.selectSavedLayout=function(t){var a=t.layout_id;0===l.contentStructure.rows.length?s.loadSelectedLayout(a):i.confirm({message:layotterData.i18n.load_layout_confirmation,okText:layotterData.i18n.load_layout,okAction:function(){s.loadSelectedLayout(a)},cancelText:layotterData.i18n.cancel})},this.loadSelectedLayout=function(t){a.reset(),angular.element("#layotter").addClass("layotter-loading"),o({url:ajaxurl+"?action=layotter",method:"POST",data:"layotter_action=load_layout&layotter_id="+t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){var a=t.json;e.enabled(!1),l.contentStructure.options=a.options,l.contentStructure.rows=a.rows,n(function(){e.enabled(!0)},1),angular.element("#layotter").removeClass("layotter-loading"),u.pushStep(layotterData.i18n.history.load_post_layout)})},this.renameLayout=function(t,a){a.stopPropagation();var e=s.savedLayouts[t];i.prompt({message:layotterData.i18n.rename_layout_confirmation,initialValue:e.name,okText:layotterData.i18n.rename_layout,okAction:function(t){var a=e.layout_id;e.isLoading=!0,o({url:ajaxurl+"?action=layotter",method:"POST",data:"layotter_action=rename_layout&layotter_id="+a+"&layotter_name="+t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){e.isLoading=void 0,e.name=t.name})},cancelText:layotterData.i18n.cancel})},this.deleteLayout=function(a,t){t.stopPropagation();var e=s.savedLayouts[a];i.confirm({message:layotterData.i18n.delete_layout_confirmation,okText:layotterData.i18n.delete_layout,okAction:function(){var t=e.layout_id;e.isLoading=!0,o({url:ajaxurl+"?action=layotter",method:"POST",data:"layotter_action=delete_layout&layotter_id="+t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(){s.savedLayouts.splice(a,1),0===s.savedLayouts.length&&r.close()})},cancelText:layotterData.i18n.cancel})}}]);
app.service("modals",["$compile","$rootScope","$timeout",function(o,a,l){angular.element(document).on("keydown","#layotter-modal-prompt-input",function(n){13===n.keyCode&&a.prompt.okAction()}),angular.element(document).on("keyup",function(n){27===n.keyCode&&(angular.element(".layotter-modal-confirm").length?a.confirm.cancelAction():angular.element(".layotter-modal-prompt").length&&a.prompt.cancelAction())}),this.prompt=function(o){e(angular.element("#layotter-modal-prompt").html())&&(a.prompt={message:o.message,initialValue:o.initialValue,okText:o.okText,cancelText:o.cancelText,okAction:function(){var n=angular.element("#layotter-modal-prompt-input"),e=n.val();if(""!=e){if(c(),"function"==typeof o.okAction){var t=e;o.okAction(t)}}else n.focus()},cancelAction:function(){c(),"function"==typeof o.cancelAction&&o.cancelAction()}},l(function(){angular.element("#layotter-modal-prompt-input").select().focus()},1))},this.confirm=function(n){e(angular.element("#layotter-modal-confirm").html())&&(a.confirm={message:n.message,okText:n.okText,cancelText:n.cancelText,okAction:function(){c(),"function"==typeof n.okAction&&n.okAction()},cancelAction:function(){c(),"function"==typeof n.cancelAction&&n.cancelAction()}},angular.element("#layotter-modal-confirm-button").focus())};var e=function(n){if(angular.element("#dennisbox-modal").length)return!1;var e=angular.element('<div id="dennisbox-modal"><div class="dennisbox-overlay"></div><div class="dennisbox-content"></div></div>'),t=parseInt(angular.element(document).scrollTop()+angular.element(window).height()/2);return e.appendTo("body").find(".dennisbox-content").html(n).css("height",210).css("width",350).css("margin-top",-90).css("top",t).css("opacity",0).animate({marginTop:-100,opacity:1},300),l(function(){a.$apply(o(angular.element("#dennisbox-modal"))(a))},1),!0},c=function(){var n=angular.element("#dennisbox-modal");n.length&&n.children().fadeOut(300,function(){angular.element(this).parent().remove()})}}]);
app.service("state",["forms",function(t){var e=this;this.showBackButton=!1;var n={reset:function(){this.element=null,this.parent=null,this.index=-1,this.optionsType=null,e.showBackButton=!1,t.close(),t.fieldsChanged=!1,t.listenForFieldChanges=!1}};n.reset(),this.reset=function(){n.reset()},this.setElement=function(t){n.element=t},this.getElement=function(){return n.element},this.setParent=function(t){n.parent=t},this.setIndex=function(t){n.index=t},this.getParent=function(){return n.parent},this.getIndex=function(){return n.index},this.setOptionsType=function(t){n.optionsType=t},this.getOptionsType=function(){return n.optionsType},this.setBackButton=function(t){e.showBackButton=t}}]);
app.service("templates",["$rootScope","$http","$animate","$timeout","view","forms","modals","state","data","history",function(t,a,i,o,e,l,n,s,d,r){var c=this;this.savedTemplates=layotterData.savedTemplates,this.editTemplate=function(e){n.confirm({message:layotterData.i18n.edit_template_confirmation,okText:layotterData.i18n.edit_template,okAction:function(){s.setElement(e),l.fetchDataAndShowForm(ajaxurl+"?action=layotter",{layotter_action:"edit_element",layotter_id:e.id})},cancelText:layotterData.i18n.cancel})},this.deleteTemplate=function(t){n.confirm({message:layotterData.i18n.delete_template_confirmation,okText:layotterData.i18n.delete_template,okAction:function(){c.savedTemplates[t].isLoading=!0,a({url:ajaxurl+"?action=layotter",method:"POST",data:"layotter_action=delete_template&layotter_id="+c.savedTemplates[t].id,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){r.deletedTemplates.push(c.savedTemplates[t].id),c.savedTemplates[t].id=e.id,c.savedTemplates[t].view=e.view,c.savedTemplates[t].isLoading=void 0,c.savedTemplates[t].isHighlighted=void 0,c.savedTemplates[t].template_deleted=!0,c.savedTemplates.splice(t,1),0==c.savedTemplates.length&&jQuery("#layotter-templates").removeClass("layotter-visible")})},cancelText:layotterData.i18n.cancel})},this.saveNewTemplate=function(t){delete t.template_deleted,t.isLoading=!0,e.showTemplates(),a({url:ajaxurl+"?action=layotter",method:"POST",data:"layotter_action=create_template&layotter_id="+t.id,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){i.enabled(!1),c.savedTemplates.push(angular.copy(e)),o(function(){i.enabled(!0)},1),t.isLoading=void 0,t.is_template=e.is_template,c.watchTemplate(t),r.pushStep(layotterData.i18n.history.save_element_as_template)})},this.saveTemplate=function(){var t=s.getElement();s.reset(),t.isLoading=!0;var e=jQuery("#layotter-edit, .layotter-modal #post").serialize()+"&layotter_action=save_element&layotter_id="+encodeURIComponent(t.id);a({url:ajaxurl+"?action=layotter",method:"POST",data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){t.view=e.view,t.isLoading=void 0})},this.highlightTemplate=function(e){e.isHighlighted=!0},this.unhighlightTemplate=function(e){e.isHighlighted=void 0},this.watchTemplate=function(e){t.$watch(function(){return e},function(a){var i=a.id;angular.forEach(d.contentStructure.rows,function(e){angular.forEach(e.cols,function(e){angular.forEach(e.elements,function(e){if(e.id==i){var t=angular.copy(a);t.options=e.options,angular.extend(e,t)}})})})},!0)}}]);
app.service("view",function(){this.showTemplates=function(){jQuery("#layotter-templates").addClass("layotter-visible")},this.toggleTemplates=function(){jQuery("#layotter-templates").toggleClass("layotter-visible")},jQuery(window).scroll(function(){var t=jQuery(document).scrollTop(),e=jQuery("#layotter-top-buttons-1").offset().top,o=jQuery("#adminmenuwrap").width();e<t?jQuery("#layotter-top-buttons-2").addClass("layotter-visible").css("left",o):jQuery("#layotter-top-buttons-2").removeClass("layotter-visible")})});